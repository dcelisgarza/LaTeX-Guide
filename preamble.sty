%%%%%%%%%%%%%%%%%%%%%%%%%%   IMPORTANT   %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                   %
%  Comment out or  remove any packages you do  not use.  Uncomment  %
%  packages you do.                                                 %
%                                                                   %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{pkgloader}

\usepackage[
  top    = 1in,
  bottom = 1in,
  left   = 1.5in,
  right  = 1in,
]{geometry}                     % Control page layout

\usepackage{hologo}

%%% Document elements

% Fancy colours
\usepackage[hyperref]{xcolor}

% Images
\usepackage{graphicx}

% Chemistry support
\usepackage[version=3]{mhchem}

% Citation style
\usepackage[
  comma,
  square,
  numbers,
  sort&compress,
]{natbib}

% Math packages
\newcommand\bmmax{2}            % Load more maths alphabets in bm.
\usepackage{bm}                 % bold maths
\usepackage{mathtools}          % loads the AMSLaTeX packages
\usepackage{amssymb}            % AMSTeX symbols
\usepackage{pxfonts}            % More symbols (\oiint, etc.)

% In-paragraph lists
\usepackage{paralist}

% Professional tables
\usepackage{booktabs}

% Multirow and multicolumn cells in tables
\usepackage{multirow}
% Avoid using when possible -- it's usually poor table design.  If you
% cannot avoid such monsters, you may be interested in the Excel2LaTeX
% package (for Excel) from CTAN or Calc2LaTeX (for LibreOffice Calc)
% from SourceForge.

% Place floats in the section they're called.
\usepackage[section]{placeins}

% More support for 'verbatim' content -- spans of text where TeX's
% usual 'funny business' with characters like \, %, and & doesn't apply.
\usepackage{verbatim}

%%% Cross-References

% Appendix in table of contents.
\usepackage[toc,page]{appendix}

% Subfigures
\usepackage{subcaption}

% Clever cross-references.  Refer to documentation.
\usepackage{cleveref}

% Page number counter for the bibliography after appendices.
\newcounter{originalpagenumber}

% Hyperlinks in the document (and turns cross-references into links)
\usepackage[
  colorlinks     = true,
  pdfstartview   = FitV,
  linkcolor      = blue,
  citecolor      = blue,
  urlcolor       = blue,
  hyperfootnotes = true
]{hyperref}

\usepackage{fontspec}

\LoadPackagesNow

% Bottom paragraph spacing.
\setlength{\parskip}{2ex}

% Image search paths
\graphicspath{{images/}}

\newfontface\titlefontface{Baskerville}
\newcommand\titlefont{\fontsize{60}{72}\titlefontface}

\RenewDocumentCommand{\maketitle}{}{%
  % Clear canvas allows for a fully customisable front page.
  \thispagestyle{empty}
  \begin{center}
  \null
  \vfill

  \begingroup
    \titlefont
    \@title
    \\[1.5ex]
    \@subtitle
  \endgroup

  \vfill

  \par\noindent

  Monterrey, N.L., Mexico \hfill \@author \hfill \today\\

  \end{center}
  \clearpage
}

\NewDocumentCommand{\frontmatter}{}{
  \clearpage
  \pagenumbering{roman}
}
\NewDocumentCommand{\mainmatter}{}{%
  \clearpage
  \setcounter{page}{1}
  \pagenumbering{arabic}
}
\NewDocumentCommand{\backmatter}{}{}

\usepackage{xpatch}
\newcommand\useTOCline[1]{\phantomsection\addcontentsline{toc}{chapter}{#1}}
\xpretocmd\listoftables{\useTOCline{List of Tables}}{}{}
\xpretocmd\listoffigures{\useTOCline{List of Figures}}{}{}

\usepackage{enumitem}
\newlist{resourcelist}{description}{1}
\setlist[resourcelist]{font=\makeresourcelistitem}
\newcommand{\makeresourcelistitem}[1]{#1\\}

% Packages of potential interest:
%
% - minted   :: Displaying code colourfully.  Requires Python 2.7 or
%               higher for Pygments.  Also add "-shell-escape" flag to
%               the compilation command.
%
%               (Pure-TeX alternative: listings)
% - lscape   :: Easily specify specific pages to be landscape.
% - chngcntr :: Managing 'counters' (figure 1, table 2.3, etc.).
% - lmodern  :: Cleaner, more complete version of 'Computer Modern'.
%               It doesn't make sense to use this *and* fontspec.
% - pdfpages :: Include pages of a PDF.
% - fontspec :: Use any font installed on your system.  Refer to docs.
%
% For all LaTeX packages and document classes, use the Texdoc program.
% For example, to view the 'mhchem' documentation,
%
%     texdoc mhchem
%
% This is how you can find additional loading options, functionality,
% and answers to common questions about the package/class.  It's a
% good idea to skim (at least) the documentation of every
% class/package you use.
%
%
% Commands/switches of potential interest:
%
% \allowdisplaybreaks :: (amsmath)
%                        Allow the {align} environment break across pages.
